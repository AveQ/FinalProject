<!-- DATE PANEL
    TODO:
      -nothing
    sources from https://material.io/
-->
<app-navb></app-navb>
<div class="boxForNav"></div>

<div class="boxForFoodPanel">
<div class="datePanel d-flex justify-content-around">
  <div class="arrow" (click)="changeDate(currentDay.time, false)">
    <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 0 24 24" width="24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"/>
    </svg>
  </div>
  <div class="datePanel-day datePanel-back" (click)="changeDate(currentDay.time, false)">
    <span class="datePanel-date">{{previousDay.date}}</span>
    <span class="datePanel-name">{{previousDay.name}}</span>
  </div>
  <div class="datePanel-day datePanel-current">
    <span class="datePanel-date">{{currentDay.date}}</span>
    <span class="datePanel-name">{{currentDay.name}}</span>
  </div>
  <div class="datePanel-day datePanel-next" (click)="changeDate(currentDay.time, true)">
    <span class="datePanel-date">{{nextDay.date}}</span>
    <span class="datePanel-name">{{nextDay.name}}</span>
  </div>
  <div class="arrow" (click)="changeDate(currentDay.time, true)">
    <svg xmlns="http://www.w3.org/2000/svg" style="transform: rotateY(180deg)" height="40px" viewBox="0 0 24 24"
         width="24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"/>
    </svg>
  </div>
</div>

<!-- MEAL PANEL
    TODO:
      -more colors and animations
-->

<div class="row meal-panel justify-content-center">
  <div class="col-12 meal-list">
    <div class="" *ngFor="let meal of meals">
      <div class="meal card" >
        <span class="nameOfMeal" (click)="meal.isIngedientsOpen = !meal.isIngedientsOpen">{{meal.name}}</span>
        <div class="cont d-flex justify-content-between">
          <div class="contForBasicInfoOfMeal" (click)="meal.isIngedientsOpen = !meal.isIngedientsOpen">
            <span class="kcalOfMeal mr-2">{{meal.fullKcal}} kcal</span>
            <span class="macroOfMeal">50g 12g 60g</span>
          </div>
          <div class="contForMealButtons">
            <span class="stats" (click)="stats()">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="green" width="30px" height="30px"><path
                d="M0 0h24v24H0z" fill="none"/><path d="M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"/></svg>
            </span>
            <span (click)="openConfiguration()" class="add-product">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#dd0101" width="30px" height="30px"><path
                d="M0 0h24v24H0z" fill="none"/><path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>
            </span>
          </div>
        </div>
      </div>
      <div class="listOfProducts">
        <ul class="list-prod"  [ngClass]="{'list-prod--close': meal.isIngedientsOpen === false}">
          <li class="product" *ngFor="let product of meal.ingredients">
            <span class="product-name">{{product.name}}</span>
            <span *ngIf="product.portion === 'pieces'" class="product-portion">{{product.howMany}} x porcja</span>
            <span *ngIf="product.portion === 'grams'" class="product-portion">{{product.howMany}} gram</span>
            <span class="product-macro">143kcal 5g 23g 33g</span>
            <div class="product--delete">X</div>
          </li>
        </ul>
      </div>
    </div>
<!--    <div class="training meal card">-->
<!--      <span class="nameOfMeal">Trening</span>-->
<!--      <span class="kcalOfMeal">-453 kcal</span>-->
<!--      <span class="macroOfMeal">Dziennik aktywności</span>-->
<!--    </div>-->
<!--    <div class="training meal card">-->
<!--      <span class="nameOfMeal">Nawodnienie</span>-->
<!--      <span class="kcalOfMeal">-453 kcal</span>-->
<!--      <span class="macroOfMeal">Dziennik aktywności</span>-->
<!--    </div>-->
  </div>
</div>
<div class="add-food">
  <app-add-food-panel></app-add-food-panel>
</div>
</div>
<!-- PROGRESS BARS
     TODO:
      -add style to clouds,
      -justify text
-->
<div class="basicStat text-center">
  <div *ngFor="let bar of bars" class="part ">
    <ng-template #popContent>Aktualne: <b>{{bar.current}}g</b><br>
      Max: <b>{{bar.max}}g</b>
    </ng-template>
    <div [ngbPopover]="popContent" triggers="mouseenter:mouseleave">
      <span class="barName">{{bar.name}}</span>
      <ngb-progressbar class="bar" [type]="bar.type" textType="white" [value]="bar.value"
                       height="10px"></ngb-progressbar>
    </div>
  </div>
</div>

